"""
*
Написать программу калькулятор которая предлагает 
ввести пример для решения пока пользователь не введет команду "стоп"
Программа должна решить пример и запросить следующий.
При вводе команды "стоп" программа завершается.
Поддерживаемые операции: + - * ** /
Пример:
    Введите пример или 'стоп' для завершения: 2 + 2
    Ответ: 4
    Введите пример или 'стоп' для завершения: 16 / 8
    Ответ: 2
    Введите пример или 'стоп' для завершения: 1651+
    Неправильный формат. Пример: '2 + 4'


eval() exec() нельзя
"""


print("Калькулятор (поддерживаемые операции: + - * ** /)")

while True:
    # Запрашиваем пример у пользователя
    user_input = input("\nВведите пример или 'стоп' для завершения: ").strip()
    
    # Проверяем команду выхода
    if user_input.lower() == 'стоп':
        print("Программа завершена. До свидания!")
        break
    
    # Разбиваем ввод на части
    parts = user_input.split()
    
    # Проверяем формат (должно быть 3 части: число оператор число)
    if len(parts) != 3:
        print("Неправильный формат. Пример: '2 + 4'")
        continue
    
    # Извлекаем операнды и оператор
    num1_str, operator, num2_str = parts
    
    # Проверяем, что операнды - числа
    try:
        num1 = float(num1_str)
        num2 = float(num2_str)
    except ValueError:
        print("Ошибка: оба операнда должны быть числами")
        continue
    
    # Выполняем операцию в зависимости от оператора
    result = None
    if operator == '+':
        result = num1 + num2
    elif operator == '-':
        result = num1 - num2
    elif operator == '*':
        result = num1 * num2
    elif operator == '**':
        result = num1 ** num2
    elif operator == '/':
        if num2 == 0:
            print("Ошибка: деление на ноль!")
            continue
        result = num1 / num2
    else:
        print(f"Неподдерживаемая операция: '{operator}'")
        print("Поддерживаемые операции: + - * ** /")
        continue
    
    # Выводим результат
    print(f"Ответ: {result}")
